import React from "react";
import styled from "styled-components";

const CPUUsageSVG = ({ usage }) => {
  // Ensure usage stays between 0-100
  const fillPercentage = Math.min(Math.max(usage, 0), 100);
//console.log('fillPercentage.toFixed(1)' + fillPercentage.toFixed(1))
  return (
    <>
    <SVGContainer>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="-5.0 -10.0 110.0 135.0">
        <defs>
          {/* Define a Clip Path that adjusts dynamically based on CPU usage */}
          <clipPath id="cpuClip">
            <rect
              x="-5"
              y={88 - fillPercentage.toFixed(1)} // Adjust height dynamically
              width="110"
              height="100"
              fill="white"
            />
          </clipPath>
        </defs>

        {/* CPU Shape with Stroke */}
        <path
          d="m70.684 24.676h-41.367c-1.2734 0-2.4336 0.51953-3.2734 1.3633-0.83984 0.83984-1.3633 2-1.3633 3.2734v20.66l-0.003907 0.027344v20.691c0 1.2734 0.52344 2.4336 1.3633 3.2734 0.83984 0.83984 2 1.3633 3.2734 1.3633h20.66l0.027344-0.003906h20.691c1.2734 0 2.4336-0.52344 3.2734-1.3633 0.83984-0.83984 1.3633-2 1.3633-3.2734l-0.003906-41.371c0-1.2734-0.52344-2.4336-1.3633-3.2734-0.83984-0.84375-2-1.3672-3.2773-1.3672zm-15.883 25.324v0.03125c-0.007812 0.44141-0.19141 0.83984-0.48047 1.1289-0.29687 0.29688-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.29297-0.29688-0.48047-0.70703-0.48047-1.1562 0-0.45312 0.18359-0.86328 0.48047-1.1562 0.29688-0.29688 0.70703-0.48047 1.1562-0.48047 0.45313 0 0.86328 0.18359 1.1562 0.48047 0.28906 0.28906 0.47266 0.6875 0.48047 1.125zm2.2266-1.207c-0.19531-0.63281-0.54297-1.1992-1.0039-1.6562-0.73047-0.73047-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.73047 0.73438-1.1836 1.7461-1.1836 2.8633s0.45312 2.1289 1.1875 2.8633c0.73047 0.73047 1.7461 1.1875 2.8633 1.1875 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.45703-0.45703 0.80469-1.0234 1.0039-1.6562h11.484v17.305h-37.027v-10.18h14.672v3.8398c0 0.66797 0.53906 1.207 1.207 1.207h8.875c0.20703 0.52734 0.51953 1.0039 0.91406 1.3984 0.73047 0.73047 1.7461 1.1875 2.8633 1.1875 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.73047-0.73047 1.1875-1.7461 1.1875-2.8633 0-1.1172-0.45312-2.1289-1.1875-2.8633-0.73047-0.73047-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.51953 0.51953-0.89844 1.1797-1.0742 1.9141h-7.5039v-3.8398c0-0.66797-0.53906-1.207-1.207-1.207l-15.879 0.003906h-0.007813v-4.7148h11.387c0.66406 0 1.207-0.53906 1.207-1.207v-5.9531c0.63281-0.19531 1.1992-0.54688 1.6562-1.0039 0.73047-0.73438 1.1875-1.7461 1.1875-2.8633 0-1.1172-0.45312-2.1289-1.1875-2.8633-0.73047-0.73438-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.73047 0.73047-1.1875 1.7422-1.1875 2.8633 0 1.1172 0.45313 2.1289 1.1875 2.8633 0.45703 0.45703 1.0234 0.80469 1.6562 1.0039v4.7461h-10.18v-8.9883l7.4883-8.3164h29.535v7.4883h-4.1953c-0.19531-0.63281-0.54297-1.1992-1.0039-1.6562-0.73047-0.73437-1.7461-1.1875-2.8633-1.1875-1.0742 0-2.0586 0.42188-2.7852 1.1133l-0.078125 0.070312c-0.73047 0.73047-1.1875 1.7422-1.1875 2.8633 0 1.1172 0.45312 2.1289 1.1875 2.8633l0.003907-0.003907c0.73437 0.73438 1.7461 1.1914 2.8594 1.1914 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.45703-0.45703 0.80469-1.0234 1.0039-1.6562h4.1953v7.4062zm4.1406 11.965c0.29688 0.29688 0.48047 0.70703 0.48047 1.1562 0 0.45313-0.18359 0.86328-0.48047 1.1562-0.29688 0.29688-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.25781-0.25781-0.43359-0.60547-0.47266-0.98828v-0.035156c-0.003906-0.042969-0.007812-0.089844-0.007812-0.13672 0-0.45312 0.18359-0.86328 0.48047-1.1562 0.29297-0.29297 0.70703-0.48047 1.1562-0.48047 0.45312 0.003906 0.85938 0.1875 1.1562 0.48437zm0.92188-20.555v0.011719c-0.007813 0.44141-0.19141 0.83594-0.48047 1.125-0.29688 0.29688-0.70703 0.48047-1.1562 0.48047-0.45703 0-0.86328-0.17969-1.1562-0.47266v-0.003906c-0.29688-0.29297-0.48047-0.70703-0.48047-1.1562 0-0.45312 0.18359-0.86328 0.48047-1.1562l0.046875-0.050781c0.28906-0.26562 0.67969-0.42969 1.1094-0.42969 0.45312 0 0.86328 0.18359 1.1562 0.48047 0.28906 0.28906 0.47266 0.68359 0.48047 1.125zm-33.016 9.8281v-10.688c0.003906-0.28516 0.10547-0.57422 0.3125-0.80469l8.1172-9.0117c0.22266-0.27344 0.55859-0.44922 0.94141-0.44922h31.273c0.66797 0 1.207 0.53906 1.207 1.207v39.434c0 0.66797-0.53906 1.207-1.207 1.207h-39.438c-0.66797 0-1.207-0.53906-1.207-1.207zm14.957-11.008c0.29297 0.29297 0.48047 0.70703 0.48047 1.1562 0 0.45312-0.18359 0.86328-0.48047 1.1562-0.29688 0.29687-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.29688-0.29297-0.48047-0.70703-0.48047-1.1562 0-0.45313 0.18359-0.86328 0.48047-1.1562 0.29688-0.29688 0.70703-0.48047 1.1562-0.48047 0.44922 0.003906 0.85938 0.1875 1.1562 0.48047zm33.703 9.7695h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66406-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207s-0.53906 1.207-1.207 1.207h-9.0312c-0.33203 1.1797-0.96484 2.2344-1.8086 3.0781s-1.8984 1.4766-3.0781 1.8086v9.0312c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207s-1.207-0.53906-1.207-1.207v-8.7695l-4.7109-0.011719v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66797 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207s-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-9.0312c-1.1797-0.33203-2.2344-0.96484-3.0781-1.8086s-1.4766-1.8984-1.8047-3.0781h-9.0312c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695l0.011719-4.707h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66797 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h9.0312c0.33203-1.1797 0.96484-2.2344 1.8047-3.0781 0.84375-0.84375 1.8984-1.4766 3.0781-1.8086v-9.0312c0-0.66797 0.53906-1.207 1.207-1.207 0.66797 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695l4.7109 0.015625v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66797 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v9.0312c1.1797 0.33203 2.2344 0.96484 3.0781 1.8086s1.4766 1.8984 1.8086 3.0781h9.0312c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66406-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695l-0.015625 4.707h8.7695c0.66797 0 1.207 0.53906 1.207 1.207s-0.53906 1.207-1.207 1.207h-8.7695v4.7109z"
          stroke="black" strokeWidth="2" fill="none"
        />

        {/* Filled CPU Shape (Uses Clip Path) */}
        <path
          d="m70.684 24.676h-41.367c-1.2734 0-2.4336 0.51953-3.2734 1.3633-0.83984 0.83984-1.3633 2-1.3633 3.2734v20.66l-0.003907 0.027344v20.691c0 1.2734 0.52344 2.4336 1.3633 3.2734 0.83984 0.83984 2 1.3633 3.2734 1.3633h20.66l0.027344-0.003906h20.691c1.2734 0 2.4336-0.52344 3.2734-1.3633 0.83984-0.83984 1.3633-2 1.3633-3.2734l-0.003906-41.371c0-1.2734-0.52344-2.4336-1.3633-3.2734-0.83984-0.84375-2-1.3672-3.2773-1.3672zm-15.883 25.324v0.03125c-0.007812 0.44141-0.19141 0.83984-0.48047 1.1289-0.29687 0.29688-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.29297-0.29688-0.48047-0.70703-0.48047-1.1562 0-0.45312 0.18359-0.86328 0.48047-1.1562 0.29688-0.29688 0.70703-0.48047 1.1562-0.48047 0.45313 0 0.86328 0.18359 1.1562 0.48047 0.28906 0.28906 0.47266 0.6875 0.48047 1.125zm2.2266-1.207c-0.19531-0.63281-0.54297-1.1992-1.0039-1.6562-0.73047-0.73047-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.73047 0.73438-1.1836 1.7461-1.1836 2.8633s0.45312 2.1289 1.1875 2.8633c0.73047 0.73047 1.7461 1.1875 2.8633 1.1875 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.45703-0.45703 0.80469-1.0234 1.0039-1.6562h11.484v17.305h-37.027v-10.18h14.672v3.8398c0 0.66797 0.53906 1.207 1.207 1.207h8.875c0.20703 0.52734 0.51953 1.0039 0.91406 1.3984 0.73047 0.73047 1.7461 1.1875 2.8633 1.1875 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.73047-0.73047 1.1875-1.7461 1.1875-2.8633 0-1.1172-0.45312-2.1289-1.1875-2.8633-0.73047-0.73047-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.51953 0.51953-0.89844 1.1797-1.0742 1.9141h-7.5039v-3.8398c0-0.66797-0.53906-1.207-1.207-1.207l-15.879 0.003906h-0.007813v-4.7148h11.387c0.66406 0 1.207-0.53906 1.207-1.207v-5.9531c0.63281-0.19531 1.1992-0.54688 1.6562-1.0039 0.73047-0.73438 1.1875-1.7461 1.1875-2.8633 0-1.1172-0.45312-2.1289-1.1875-2.8633-0.73047-0.73438-1.7461-1.1875-2.8633-1.1875-1.1172 0-2.1289 0.45312-2.8633 1.1875-0.73047 0.73047-1.1875 1.7422-1.1875 2.8633 0 1.1172 0.45313 2.1289 1.1875 2.8633 0.45703 0.45703 1.0234 0.80469 1.6562 1.0039v4.7461h-10.18v-8.9883l7.4883-8.3164h29.535v7.4883h-4.1953c-0.19531-0.63281-0.54297-1.1992-1.0039-1.6562-0.73047-0.73437-1.7461-1.1875-2.8633-1.1875-1.0742 0-2.0586 0.42188-2.7852 1.1133l-0.078125 0.070312c-0.73047 0.73047-1.1875 1.7422-1.1875 2.8633 0 1.1172 0.45312 2.1289 1.1875 2.8633l0.003907-0.003907c0.73437 0.73438 1.7461 1.1914 2.8594 1.1914 1.1172 0 2.1289-0.45312 2.8633-1.1875 0.45703-0.45703 0.80469-1.0234 1.0039-1.6562h4.1953v7.4062zm4.1406 11.965c0.29688 0.29688 0.48047 0.70703 0.48047 1.1562 0 0.45313-0.18359 0.86328-0.48047 1.1562-0.29688 0.29688-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.25781-0.25781-0.43359-0.60547-0.47266-0.98828v-0.035156c-0.003906-0.042969-0.007812-0.089844-0.007812-0.13672 0-0.45312 0.18359-0.86328 0.48047-1.1562 0.29297-0.29297 0.70703-0.48047 1.1562-0.48047 0.45312 0.003906 0.85938 0.1875 1.1562 0.48437zm0.92188-20.555v0.011719c-0.007813 0.44141-0.19141 0.83594-0.48047 1.125-0.29688 0.29688-0.70703 0.48047-1.1562 0.48047-0.45703 0-0.86328-0.17969-1.1562-0.47266v-0.003906c-0.29688-0.29297-0.48047-0.70703-0.48047-1.1562 0-0.45312 0.18359-0.86328 0.48047-1.1562l0.046875-0.050781c0.28906-0.26562 0.67969-0.42969 1.1094-0.42969 0.45312 0 0.86328 0.18359 1.1562 0.48047 0.28906 0.28906 0.47266 0.68359 0.48047 1.125zm-33.016 9.8281v-10.688c0.003906-0.28516 0.10547-0.57422 0.3125-0.80469l8.1172-9.0117c0.22266-0.27344 0.55859-0.44922 0.94141-0.44922h31.273c0.66797 0 1.207 0.53906 1.207 1.207v39.434c0 0.66797-0.53906 1.207-1.207 1.207h-39.438c-0.66797 0-1.207-0.53906-1.207-1.207zm14.957-11.008c0.29297 0.29297 0.48047 0.70703 0.48047 1.1562 0 0.45312-0.18359 0.86328-0.48047 1.1562-0.29688 0.29687-0.70703 0.48047-1.1562 0.48047-0.45312 0-0.86328-0.18359-1.1562-0.48047-0.29688-0.29297-0.48047-0.70703-0.48047-1.1562 0-0.45313 0.18359-0.86328 0.48047-1.1562 0.29688-0.29688 0.70703-0.48047 1.1562-0.48047 0.44922 0.003906 0.85938 0.1875 1.1562 0.48047zm33.703 9.7695h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66406-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207s-0.53906 1.207-1.207 1.207h-9.0312c-0.33203 1.1797-0.96484 2.2344-1.8086 3.0781s-1.8984 1.4766-3.0781 1.8086v9.0312c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207s-1.207-0.53906-1.207-1.207v-8.7695l-4.7109-0.011719v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66797 0-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207s-1.207-0.53906-1.207-1.207v-8.7695h-4.7148v8.7695c0 0.66797-0.53906 1.207-1.207 1.207-0.66406 0-1.207-0.53906-1.207-1.207v-9.0312c-1.1797-0.33203-2.2344-0.96484-3.0781-1.8086s-1.4766-1.8984-1.8047-3.0781h-9.0312c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695l0.011719-4.707h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66797 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h8.7695v-4.7148h-8.7695c-0.66797 0-1.207-0.53906-1.207-1.207 0-0.66406 0.53906-1.207 1.207-1.207h9.0312c0.33203-1.1797 0.96484-2.2344 1.8047-3.0781 0.84375-0.84375 1.8984-1.4766 3.0781-1.8086v-9.0312c0-0.66797 0.53906-1.207 1.207-1.207 0.66797 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695l4.7109 0.015625v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66797 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v8.7695h4.7148v-8.7695c0-0.66797 0.53906-1.207 1.207-1.207 0.66406 0 1.207 0.53906 1.207 1.207v9.0312c1.1797 0.33203 2.2344 0.96484 3.0781 1.8086s1.4766 1.8984 1.8086 3.0781h9.0312c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66406-0.53906 1.207-1.207 1.207h-8.7695v4.7148h8.7695c0.66797 0 1.207 0.53906 1.207 1.207 0 0.66797-0.53906 1.207-1.207 1.207h-8.7695l-0.015625 4.707h8.7695c0.66797 0 1.207 0.53906 1.207 1.207s-0.53906 1.207-1.207 1.207h-8.7695v4.7109z"
          fill="#ff007f"
          clipPath="url(#cpuClip)" // Apply dynamic masking
        />
      </svg>

      {/* CPU Usage Text */}
      
    </SVGContainer>
    <UsageText>{fillPercentage.toFixed(1)}%</UsageText>
    </>
  );
};

const SVGContainer = styled.div`
  width: 250px;
  height: 250px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`;

const UsageText = styled.div`
  position: absolute;
  color: #ff007f;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
  display: flex;
  width: 250px;
  justify-content: center;
      justify-content: center;
    align-content: flex-start;
    align-items: flex-start;
`;

export default CPUUsageSVG;
